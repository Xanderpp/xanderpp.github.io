<!DOCTYPE html>
<html>
	<head>
		<link rel="icon" href="assets/icon-ss.ico">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
		<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
		
		<!-- Font Awesome -->
		<link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

		<!-- Glider.js -->
		<link rel="stylesheet" type="text/css" href="assets/plugins/glider/glider.min.css">

		<!-- Popper.js -->
		<link rel="stylesheet" type="text/css" href="assets/plugins/popper/popper.css">

		<!-- Wave Animation -->
		<link rel="stylesheet" type="text/css" href="assets/plugins/waves/waves.css">

		<!-- Custom CSS -->
		<link rel="stylesheet" type="text/css" href="assets/style.css">

		<meta name="author" content="xp">
		<meta name="description" content="all-about-xp">

		<meta name="theme-color" media="(prefers-color-scheme: light)" content="#28a745" />
		<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
		
		<title>xp.io</title>
	</head>
	<body>
		<div class="header">
			<div class="d-flex align-items-center justify-content-center  inner-header">
				<div>
					<img class="my-2 rounded-circle" src="https://i.natgeofe.com/n/de94c416-6d23-45f5-9708-e8d56289268e/naturepl_01132178.jpg?w=636&h=631" alt="© National Geographic" style="max-height: 100px;" />
					<h3 id="hdr_dev">Xander Pijan</h3>
					<h5 class="mt-n2">IT Specialist</h5>
				</div>
			</div>

			<div class="container">
				<div id="row_rol" class="d-flex overflow-auto"></div>
			</div>
			
			<!-- waves -->
			<div>
				<svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
				viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
					<defs>
						<path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
					</defs>
					<g class="parallax">
						<use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7)" />
						<use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
						<use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
						<use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
					</g>
				</svg>
			</div>
		</div>

		<div class="container">

			<span class="h2 font-weight-bold" id="typed" style="color: #00acc1;"></span>
		</div>

		<!-- <div class="container mt-2"> -->
			<div class="container overflow-auto mt-2 pb-4  content">
				<div id="div_con" class="carousel slide" data-interval="false">
					<div id="car_con" class="carousel-inner"></div>
				</div>
				<!-- <div id="div_con" class="carousel slide" data-ride="carousel"></div> -->
			</div>
		<!-- </div> -->
		<!--Content ends-->
	</body>
	<!-- Bootstrap Bundle (BS, jQuery, Popper) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
	<!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>

	<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->

	<!-- jQuery -->
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script> -->
	<!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->

	<!-- Popper.js -->
	<!-- Development version -->
	<!-- <script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.js"></script> -->
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script> -->
	<!-- Production version -->
	<!-- <script src="https://unpkg.com/@popperjs/core@2"></script> -->

	<!-- <script type="text/javascript" src="https://platform.linkedin.com/badges/js/profile.js" async defer></script> -->

	<!-- Glider.js -->
	<script type="text/javascript" src="assets/plugins/glider/glider.min.js"></script>

	<!-- Typed.js -->
	<script type="text/javascript" src="assets/plugins/typed/typed.min.js"></script>

	
	<!-- Override scripts -->
	<script type="text/javascript" src="assets/script.js"></script>

	<!-- Page scripts -->
	<script type="text/javascript">
		// Constants
		const _obj_roles = {
			// its: ["IT Specialist", "fa fa-user-tie"],
			web: ["Web Developer", "fa fa-code"],
			dba: ["Database Administrator", "fa fa-database"],
			mos: ["Microsoft Office Specialist", "fab fa-microsoft"],
			ggl: ["Google Apps Specialist", "fab fa-google"],
			crm: ["CRM Specialist", "fa fa-user-cog"],
			tro: ["Troubleshooter", "fa fa-tools"],
			// liv: ["Livestreamer", "fa fa-broadcast-tower"]
		};

		var obj;

		// Profile Content
		fetch('assets/data.json')
    .then((res) => res.json())
    .then((data) => {
			obj = data;

			// All technology tools
			// Object.entries(data["tech"]).forEach(([tool, img]) => {  
			// 	$("#row_tls .row").append(`<img class="m-1" style="height: 75px;" src="${img}" alt="${tool}" title="${tool}">`);
			// })
		});

		// Role Belt
		for (const [key, val] of Object.entries(_obj_roles))
			$("#row_rol").append(`
				<button id="btn_${key}" class="btn btn-sm rounded-pill" title="${val[0]}" value="${key}">
					<div class="d-flex align-items-center text-nowrap">
						<i class="${val[1]} fa-2x mr-2 my-1"></i>
						${val[0]}
					</div>
				</button>
			`);

		$("#row_rol").children().hide();

		// Get GET param
		var getUrlParameter = function getUrlParameter(sParam) {
			var sPageURL = window.location.search.substring(1),
				sURLVariables = sPageURL.split('&'),
				sParameterName,
				i;

			for (i = 0; i < sURLVariables.length; i++) {
				sParameterName = sURLVariables[i].split('=');

				if (sParameterName[0] === sParam)
					return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
			}

			return false;
		};

		// Anim preliminaries
		$("#div_con").hide();

		// Add content to content div
		function addContent(r)	{
			var role = _obj_roles[r][0];

			const _obj_role = obj["roles"][role];
			const _obj_tech = obj["tech"];

			let output = `<p>${_obj_role["desc"]}</p>`;

			if("proj" in _obj_role)	{
				let obj_proj = _obj_role["proj"];

				let temp = "";

				for(const proj in obj_proj)	{
					let tech = "";

					obj_proj[proj]["tech"].forEach((t) =>	{
						tech += `<img class="m-1  img_tech" style="height: 75px;" src="${_obj_tech[t]}" alt="${t}" title="${t}" loading="lazy">`;
					});

					
								// <small style="line-height: 0;">${obj_proj[proj]["type"]}</small>
								
								// <img class="my-2 rounded-circle" src="https://i.natgeofe.com/n/de94c416-6d23-45f5-9708-e8d56289268e/naturepl_01132178.jpg?w=636&h=631" alt="© National Geographic" style="height: 150px;" />

					temp += `
						<div class="carousel-item">
							<span class="h4 font-weight-bold" style="color: #00acc1;">Projects</span>
							<div class="row mt-2">
								<div class="col-sm-4">
								<h5 class="">${proj === obj_proj[proj]["name"] ? obj_proj[proj]["name"] : (obj_proj[proj]["name"] + " (" + proj + ")")}</h5>
								<p>${obj_proj[proj]["desc"]}</p>
								</div>
								<div class="col-sm-8 text-center">
									
								</div>
							</div>
							<span class="h4 font-weight-bold" style="color: #00acc1;">Technology Used</span>
							<div class="d-flex overflow-auto">${tech}</div>
						</div>
					`;
				}

				output += `
					<div class="carousel slide" data-ride="carousel">
						<div class="carousel-inner">
							${temp}
						</div>
					</div>
				`;
			}
			else if("tech" in _obj_role)	{
				let row_too = "";

				_obj_role["tech"].forEach((t) => {
					row_too += `<img class="m-1" style="height: 75px;" src="${_obj_tech[t]}" alt="${t}" title="${t}">`;
				});

				output += `<div class="row justify-content-center">` + row_too + `</div>`;

				// Object.entries(_obj_role["tech"]).forEach(([tool, img]) => {
					
				// 	$("#row_tls .row").append(`<img class="m-1" style="height: 75px;" src="${img}" alt="${tool}" title="${tool}">`);
				// });
			}

			for(r in _obj_roles)	{
				if(_obj_roles[r][0] === role)	{
					console.log(r)

					$("#car_con").append(`<div id="car_${r}" class="carousel-item">${output}</div>`);
				}
			}

			$("#car_con").find("div.carousel-item:first-child").addClass("active");

			$("#div_con").fadeIn();
		}

		setTimeout(function()	{
			// Intro Anim
			$(".inner-header").animate({"height": "30vh"})
			$(".content").animate({"height": "55vh"})
			
			$("#row_rol").children().each(function(r)	{
				$(this).fadeIn();
			});

			// Content Anim
			setTimeout(function()	{
				let get_data = getUrlParameter("role");

				typed_js([_obj_roles[getUrlParameter("role")][0] || "IT Specialist"]);

				addContent(get_data);

				// $("#typed").text(get_data).fadeIn()

				// $("#div_rol").animate({opacity: 1});
			}, 500);
		}, 3000)

		$("#row_rol .btn").click(function()	{
			let slide = $("#car_con").find("#car_" + $(this).val());
			let val = $(this).val();
			// addContent($(this).val());

			if(slide.length > 0)	{
				console.log($("#car_con").find(".carousel-item"))

				// $("#div_con").carousel();
			}
			else
				addContent(val);

			// console.log($("#car_con").find(".carousel-item").siblings("#car" + val).index())

		});
	</script>
</html>